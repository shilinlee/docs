import{_ as i,H as p,k as o,l as r,M as s,n,I as a,U as l}from"./framework-1c7362c0.js";const t="/docs/assets/image-20230305203415074-1af8bf77.png",c="/docs/assets/image-20230305203803221-f72bf3df.png",d="/docs/assets/image-20230305211833236-b52dbaf6.png",u="/docs/assets/image-20230305212840383-4e145355.png",g="/docs/assets/image-20230305213443733-bbb13476.png",m={},D=l(`<h1 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手" aria-hidden="true">#</a> 快速上手</h1><p>本指南介绍如何快速上手体验 openGemini时序数据库。对于非生产环境，你可以选择以下任意一种方式部署openGemini时序数据库：</p><ul><li><p>openEuler操作系统安装</p></li><li><p>下载二进制版本安装部署（支持Linux操作系统和x86、ARM64架构）</p><blockquote><p>本指南以单机版部署为例，如需了解集群部署，点击<a href="">openGemini集群部署操作步骤</a></p></blockquote></li><li><p>源码编译安装部署（支持Linux操作系统和x86、ARM64架构）</p><blockquote><p>本指南以单机部署为例，如需了解集群部署，点击<a href="">openGemini集群部署操作步骤</a></p></blockquote></li></ul><h2 id="openeuler操作系统安装" tabindex="-1"><a class="header-anchor" href="#openeuler操作系统安装" aria-hidden="true">#</a> openEuler操作系统安装</h2><p>当前，openGemini 安装包仅添加到openEuler镜像源中，其他Linux操作系统正在进一步完善中</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; yum install openGemini</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>自动安装成功后，openGemini全部二进制存放位置为/usr/bin，配置文件存放位置为 /etc/openGemini</p></blockquote><h2 id="下载二进制版本安装步骤" tabindex="-1"><a class="header-anchor" href="#下载二进制版本安装步骤" aria-hidden="true">#</a> 下载二进制版本安装步骤</h2><p><strong>下载二进制</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">wget </span><span style="color:#CE9178;">https://github.com/openGemini/openGemini/releases/download/v1.</span><span style="color:#B5CEA8;">0.0</span><span style="color:#CE9178;">/openGemini-1.0.0-linux-amd64.tar.gz</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>解压二进制压缩包</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; mkdir openGemini</span></span>
<span class="line"><span style="color:#D4D4D4;">&gt; tar -xvf openGemini-1.0.0-linux-amd64.tar.gz -C openGemini</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行（单机版）</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; cd openGemini</span></span>
<span class="line"><span style="color:#D4D4D4;">&gt; ./usr/bin/ts-server --config ./etc/openGemini.singlenode.conf</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如需后台运行，执行如下命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; cd openGemini</span></span>
<span class="line"><span style="color:#D4D4D4;">&gt; ./usr/bin/ts-server --config ./etc/openGemini.singlenode.conf &gt; out.log </span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">&gt;&amp;1 &amp;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行效果</strong></p><p><img src="`+t+'" alt="image-20230305203415074"></p><p><img src="'+c+'" alt="image-20230305203803221"></p><h2 id="源码编译安装步骤" tabindex="-1"><a class="header-anchor" href="#源码编译安装步骤" aria-hidden="true">#</a> 源码编译安装步骤</h2><p><strong>编译环境信息</strong></p>',21),v={href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"},b={href:"https://www.python.org/downloads/",target:"_blank",rel:"noopener noreferrer"},h=l(`<p><strong>GO环境变量设置</strong></p><p>打开 ~/.profile配置文件，在文件末尾添加如下配置：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;"># 设置GOPATH(需自定义目录)</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">GOPATH</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">/path/to/dir</span></span>
<span class="line"><span style="color:#6A9955;"># 设置国内代理</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">GOPROXY</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">https://goproxy.cn,direct</span></span>
<span class="line"><span style="color:#6A9955;"># 开启go mod模式</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">GO111MODULE</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">on</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">GONOSUMDB</span><span style="color:#D4D4D4;">=</span><span style="color:#569CD6;">*</span></span>
<span class="line"><span style="color:#569CD6;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">GOSUMDB</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">off</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>下载源码</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; mkdir -p openGemini-src &amp;&amp; </span><span style="color:#DCDCAA;">cd</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">openGemini-src</span></span>
<span class="line"><span style="color:#D4D4D4;">&gt; git clone https://github.com/openGemini/openGemini.git</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>进入主目录</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; cd openGemini</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>编译</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; python3 build.py</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>运行</strong></p><p>编译成功后，二进制保存在主目录下的build目录中</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; ls build/</span></span>
<span class="line"><span style="color:#D4D4D4;">ts-cli </span><span style="color:#CE9178;">ts-meta</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">ts-monitor</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">ts-server</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">ts-sql</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">ts-store</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>运行单机版</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; bash ./scripts/install.sh</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>单机运行效果（参考前面章节中二进制安装运行效果）</p></blockquote><p>运行集群（本地单机环境模拟生产环境集群部署）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; bash ./scripts/install.sh</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>运行效果</p><p><img src="`+d+`" alt="image-20230305211833236"></p><h2 id="连接opengemini" tabindex="-1"><a class="header-anchor" href="#连接opengemini" aria-hidden="true">#</a> 连接openGemini</h2><p>CLI连接</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; ./build/ts-cli</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>默认连接127.0.0.1:8086</p></blockquote><h2 id="基本操作" tabindex="-1"><a class="header-anchor" href="#基本操作" aria-hidden="true">#</a> 基本操作</h2><p><strong>创建数据库</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; create database db0</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>查看数据库</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; show databases</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+u+`" alt="image-20230305212840383"></p><p><strong>写数据</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; insert cpu_load,host=&quot;server-01&quot;,region=&quot;west_cn&quot; value=75.3</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>查看表</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; show measurements</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>查询数据</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki dark-plus" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">&gt; select * from cpu_load</span></span>
<span class="line"><span style="color:#D4D4D4;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>运行效果</strong></p><p><img src="`+g+'" alt="image-20230305213443733"></p>',37);function y(E,k){const e=p("ExternalLinkIcon");return o(),r("div",null,[D,s("ul",null,[s("li",null,[s("a",v,[n("GO"),a(e)]),n(" version v1.16+")]),s("li",null,[s("a",b,[n("Python"),a(e)]),n(" version v3.7+")])]),h])}const _=i(m,[["render",y],["__file","getting-started.html.vue"]]);export{_ as default};
